<div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
  <header class="masthead mb-auto">
    <div class="inner">
      <h1 class="masthead-brand">Paccenter</h1>
      <h2>Login</h2>

    </div>
  </header>
  {{#if message}}
  <div class="alert alert-warning alert-dismissible fade show" role="alert">
    {{message}}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  {{/if}}
  <main role="main" class="inner cover">


    <form class="login needs-validation" novalidate="" method="post">
      <div class="form-group row">
        <label for="username" class="col-sm-2 col-form-label">Username </label>
        <div class="col-sm-10">
          <input type="text" name="username" class="form-control inputlogin" required="">
          <div class="invalid-tooltip">
            Username is required
          </div>
        </div>
      </div>
      <div class="form-group row">
        <label for="inputPassword" class="col-sm-2 col-form-label">Password</label>
        <div class="col-sm-10">
          <input type="password" class="form-control inputlogin" name="password" id="inputPassword" placeholder="Password" required="">
          <div class="invalid-tooltip">
            Password is required
          </div>
        </div>

      </div>

{{!-- Hidden fields for helping capture redirect parameters --}}
<input type="hidden" id="passedTarget" name="passedTarget" value="{{{target}}}">
<input type="hidden" id="passedEmail" name="passedEmail"value="{{{email}}}">
<input type="hidden" id="passedLastName" name="passedLastName"value="{{{lastName}}}">
<input type="hidden" id="passedFirstName" name="passedFirstName"value="{{{firstName}}}">
{{!-- Submit and end the form --}}
      <input type="submit" value="submit">
    </form>






    
    <h2>If you don't have Paccenter credentials yet, please
      <a href="/register" id="registerLink">register here</a></h2>
         <p>If you forgot your username or password
      <a href="/sendpasswordreset">click here</a>
    
    </p>
 
  </main>

  <footer class="mastfoot mt-auto">
    <div class="inner">
    </div>
  </footer>
</div>

{{!--
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->--}}
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
  crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
  crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
  crossorigin="anonymous"></script>
<script>
  //Stuff for validating the main form +++++++++++++++++++++++++++++++++++++++++++++++++++++++
    //JavaScript for disabling form submissions if there are invalid fields
    (function () {
      'use strict'; //pushes more errors when something goes wrong. 

      window.addEventListener('load', function () {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.getElementsByClassName('needs-validation'); //gets the form that needs validation

        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function (form) { //creates an array (filter) and then calls specific properties/method for each (I think)
          form.addEventListener('submit', function (event) { //adds an event listener 
            if (form.checkValidity() === false) { //check html validity
              event.preventDefault(); //stop default action
              event.stopPropagation(); //prevents the event from bubbling up the DOM tree, preventing any parent handlers from being notified of the event. 
            }
            form.classList.add('was-validated'); //The magic that makes bootstrap activate invalid/valid tooltips/feedback. Applies to entire from. Will be green for good, red for bad. 
          }, false); //end addEventListener
        }); //End filter.call
      }, false); //end eventlistener load
    })(); 
//Begin classic Jquery +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
$(document).ready(function () {

registerLinkValue = 
target=$('#passedTarget').val();
email=$('#passedEmail').val();
firstName=$('#passedFirstName').val();
lastName=$('#passedLastName').val();
$('#registerLink').attr('href',"/register?target="+target+'&email='+email+'&firstName='+firstName+'&lastName='+lastName)

      })//end on load
</script>